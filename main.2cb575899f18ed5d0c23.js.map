{"version":3,"sources":["webpack:///./images/bg/balcony.jpg","webpack:///./images/bg/hall.jpg","webpack:///./images/bg/bedroom.jpg","webpack:///./images/woman/body/body_1.png","webpack:///./images/woman/body/body_2.png","webpack:///./images/woman/hair/hair_1.png","webpack:///./images/woman/hair/hair_2.png","webpack:///./images/woman/hair/hair_1_back.png","webpack:///./images/woman/hair/hair_2_back.png","webpack:///./images/woman/clothes/clothes_1.png","webpack:///./images/woman/clothes/clothes_2.png","webpack:///./images/woman/emotions/default.png","webpack:///./images/arrow.png","webpack:///./images/ellipse.png","webpack:///./images/ellipseA.png","webpack:///./services/person.js","webpack:///./images/man/body/body_1.png","webpack:///./images/man/hair/hair_1.png","webpack:///./images/man/hair/hair_1_back.png","webpack:///./images/man/clothes/clothes_1.png","webpack:///./images/woman/emotions/shy.png","webpack:///./images/woman/emotions/angry.png","webpack:///./images/woman/emotions/joy.png","webpack:///./images/woman/emotions/surprised.png","webpack:///./images/woman/emotions/sad.png","webpack:///./images/man/emotions/default.png","webpack:///./scenes/dialog.js","webpack:///./scenes/customization.js","webpack:///./index.js","webpack:///./services/creators.js"],"names":["personConstructor","gender","personConfig","scene","scaleCoef","mainHeroX","mainHeroY","this","idx","body","create_body","hair_back","create_hair_back","hair","create_hair","clothes","create_clothes","face","create_face","stageNames","stageIdx","forEach","name","destroy","faceKey","setFlipX","title","mainPerson","secondPerson","secondPersonConfig","cameraPosition","moves","left","middle","right","readReplic","replicId","type","add","image","backgroundName","bgCoef","height","setScale","setOrigin","setDepth","cameras","main","scrollX","createTextBox","innerWidth","wrapWidth","fixedWidth","fixedHeight","start","text","character","createTitle","moveCam","innerHeight","emotion","changeFace","flipPerson","Phaser","Scene","super","key","active","load","balcony","hall","bedroom","arrow","ellipse","ellipseA","setBounds","position","camera","tweens","targets","ease","duration","repeat","yoyo","x","alpha","from","to","GetValue","Utils","Objects","y","config","textBox","rexUI","background","roundRectangle","setStrokeStyle","getBBcodeText","space","top","bottom","layout","setInteractive","on","isTyping","stop","isLastPage","endOfStory","typeNextPage","getTitleText","BBCodeText","fontSize","color","wrap","mode","width","maxLines","anchor","stageTitles","chooseText","tabs","setStage","i","bgImg","setPosition","make","flipX","changeOption","setX","length","clickBtn","remove","AUTO","parent","scale","Scale","FIT","autoCenter","CENTER_BOTH","defaultImage","plugins","plugin","mapping","game","Game","hairBackArr","woman","man","bodyArr","hairArr","clothesArr","hair_back_Img","bodyImg","hair_Img","clothes_Img","face_Img","Tabs","setAlpha","buttons","button0","button1","button2","lastClickedIdx","setTexture","createNextBtn","callback","sbmtBtn","createSbmtBtn"],"mappings":"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","file":"main.2cb575899f18ed5d0c23.js","sourcesContent":["export default __webpack_public_path__ + \"images/bg/balcony.jpg\";","export default __webpack_public_path__ + \"images/bg/hall.jpg\";","export default __webpack_public_path__ + \"images/bg/bedroom.jpg\";","export default __webpack_public_path__ + \"images/woman/body/body_1.png\";","export default __webpack_public_path__ + \"images/woman/body/body_2.png\";","export default __webpack_public_path__ + \"images/woman/hair/hair_1.png\";","export default __webpack_public_path__ + \"images/woman/hair/hair_2.png\";","export default __webpack_public_path__ + \"images/woman/hair/hair_1_back.png\";","export default __webpack_public_path__ + \"images/woman/hair/hair_2_back.png\";","export default __webpack_public_path__ + \"images/woman/clothes/clothes_1.png\";","export default __webpack_public_path__ + \"images/woman/clothes/clothes_2.png\";","export default __webpack_public_path__ + \"images/woman/emotions/default.png\";","export default __webpack_public_path__ + \"images/arrow.png\";","export default __webpack_public_path__ + \"images/ellipse.png\";","export default __webpack_public_path__ + \"images/ellipseA.png\";","const { personConstructor } = require('./creators.js');\r\n\r\nclass Person {\r\n  constructor(gender, personConfig, scene, scaleCoef, mainHeroX, mainHeroY) {\r\n    this.idx = 0;\r\n    this.gender = gender;\r\n    this.personConfig = personConfig;\r\n    this.scene = scene;\r\n    this.scaleCoef = scaleCoef;\r\n    this.mainHeroX = mainHeroX;\r\n    this.mainHeroY = mainHeroY;\r\n\r\n    this.body = personConstructor.create_body(\r\n      this.gender,\r\n      this.personConfig[0],\r\n      this.scene,\r\n      this.scaleCoef,\r\n      this.mainHeroX,\r\n      this.mainHeroY,\r\n    );\r\n\r\n    this.hair_back = personConstructor.create_hair_back(\r\n      this.gender,\r\n      this.personConfig[1],\r\n      this.scene,\r\n      this.scaleCoef,\r\n      this.mainHeroX,\r\n      this.mainHeroY,\r\n    );\r\n\r\n    this.hair = personConstructor.create_hair(\r\n      this.gender,\r\n      this.personConfig[1],\r\n      this.scene,\r\n      this.scaleCoef,\r\n      this.mainHeroX,\r\n      this.mainHeroY,\r\n    );\r\n\r\n    this.clothes = personConstructor.create_clothes(\r\n      this.gender,\r\n      this.personConfig[2],\r\n      this.scene,\r\n      this.scaleCoef,\r\n      this.mainHeroX,\r\n      this.mainHeroY,\r\n    );\r\n\r\n    this.face = personConstructor.create_face(\r\n      this.gender,\r\n      this.personConfig[3],\r\n      this.scene,\r\n      this.scaleCoef,\r\n      this.mainHeroX,\r\n      this.mainHeroY,\r\n    );\r\n  }\r\n\r\n  changeOption(stageNames, stageIdx) {\r\n    this.idx === 1 ? (this.idx = 0) : (this.idx = 1);\r\n    stageNames[stageIdx].forEach(name => {\r\n      this[name].destroy();\r\n      this[name] = personConstructor[`create_${name}`](\r\n        this.gender,\r\n        this.idx,\r\n        this.scene,\r\n        this.scaleCoef,\r\n        this.mainHeroX,\r\n        this.mainHeroY,\r\n      );\r\n    });\r\n  }\r\n\r\n  changeFace(faceKey) {\r\n    this.face.destroy();\r\n    this.face = personConstructor.create_face(\r\n      this.gender,\r\n      faceKey,\r\n      this.scene,\r\n      this.scaleCoef,\r\n      this.mainHeroX,\r\n      this.mainHeroY,\r\n    );\r\n  }\r\n\r\n  destroyPerson() {\r\n    this.body.destroy();\r\n    this.hair_back.destroy();\r\n    this.hair.destroy();\r\n    this.clothes.destroy();\r\n    this.face.destroy();\r\n  }\r\n\r\n  flipPerson() {\r\n    this.body.setFlipX(true);\r\n    this.hair_back.setFlipX(true);\r\n    this.hair.setFlipX(true);\r\n    this.clothes.setFlipX(true);\r\n    this.face.setFlipX(true);\r\n  }\r\n}\r\nexport default Person;\r\n","export default __webpack_public_path__ + \"images/man/body/body_1.png\";","export default __webpack_public_path__ + \"images/man/hair/hair_1.png\";","export default __webpack_public_path__ + \"images/man/hair/hair_1_back.png\";","export default __webpack_public_path__ + \"images/man/clothes/clothes_1.png\";","export default __webpack_public_path__ + \"images/woman/emotions/shy.png\";","export default __webpack_public_path__ + \"images/woman/emotions/angry.png\";","export default __webpack_public_path__ + \"images/woman/emotions/joy.png\";","export default __webpack_public_path__ + \"images/woman/emotions/surprised.png\";","export default __webpack_public_path__ + \"images/woman/emotions/sad.png\";","export default __webpack_public_path__ + \"images/man/emotions/default.png\";","import scenario from '../ons2.json';\r\nimport { personConfig } from './customization.js';\r\nimport Person from '../services/person.js';\r\n\r\nimport arrowImg from '../images/arrow.png';\r\nimport ellipseImg from '../images/ellipse.png';\r\nimport ellipseAImg from '../images/ellipseA.png';\r\nimport balconyImg from '../images/bg/balcony.jpg';\r\nimport hallImg from '../images/bg/hall.jpg';\r\nimport bedroomImg from '../images/bg/bedroom.jpg';\r\nimport body_woman_1Img from '../images/woman/body/body_1.png';\r\nimport body_man_1Img from '../images/man/body/body_1.png';\r\nimport body_woman_2Img from '../images/woman/body/body_2.png';\r\nimport hair_woman_1Img from '../images/woman/hair/hair_1.png';\r\nimport hair_man_1Img from '../images/man/hair/hair_1.png';\r\nimport hair_woman_2Img from '../images/woman/hair/hair_2.png';\r\nimport hair_woman_1_backImg from '../images/woman/hair/hair_1_back.png';\r\nimport hair_man_1_backImg from '../images/man/hair/hair_1_back.png';\r\nimport hair_woman_2_backImg from '../images/woman/hair/hair_2_back.png';\r\nimport clothes_woman_1Img from '../images/woman/clothes/clothes_1.png';\r\nimport clothes_man_1Img from '../images/man/clothes/clothes_1.png';\r\nimport clothes_woman_2Img from '../images/woman/clothes/clothes_2.png';\r\nimport face_woman_defaultImg from '../images/woman/emotions/default.png';\r\nimport face_woman_shyImg from '../images/woman/emotions/shy.png';\r\nimport face_woman_angryImg from '../images/woman/emotions/angry.png';\r\nimport face_woman_joyImg from '../images/woman/emotions/joy.png';\r\nimport face_woman_surprisedImg from '../images/woman/emotions/surprised.png';\r\nimport face_woman_sadImg from '../images/woman/emotions/sad.png';\r\nimport face_man_defaultImg from '../images/man/emotions/default.png';\r\n\r\nlet bgImg;\r\nvar title = null;\r\nlet textBox;\r\nlet replicId = 0;\r\nlet mainPerson = null;\r\nlet secondPerson = null;\r\nconst secondPersonConfig = [0, 0, 0, 'default'];\r\nlet cameraPosition = 150;\r\nconst moves = {\r\n  left: 0,\r\n  middle: 200,\r\n  right: 425,\r\n};\r\n\r\nconst readReplic = (replicId, scene) => {\r\n  if (scenario[replicId].type === 'background') {\r\n    // background change\r\n    bgImg = scene.add.image(0, 0, scenario[replicId].backgroundName);\r\n    const bgCoef = 667 / bgImg.height;\r\n    bgImg.setScale(bgCoef, bgCoef).setOrigin(0).setDepth(-1);\r\n    replicId += 1;\r\n\r\n    scene.cameras.main.scrollX = 200;\r\n\r\n    readReplic(replicId, scene);\r\n  } else {\r\n    // replica render\r\n    textBox = createTextBox(scene, innerWidth / 2 + 50, 500, {\r\n      wrapWidth: 260,\r\n      fixedWidth: 260,\r\n      fixedHeight: 65,\r\n    }).start(scenario[replicId].text, 50);\r\n\r\n    // create title to replica\r\n    if (scenario[replicId].character && title === null) {\r\n      title = createTitle(scene, innerWidth / 2, 490, {\r\n        fixedWidth: 70,\r\n        fixedHeight: 16,\r\n      }).start(scenario[replicId].character, 50);\r\n    }\r\n\r\n    // camera view change\r\n    if (\r\n      scenario[replicId].type !== cameraPosition &&\r\n      scenario[replicId].type !== 'background'\r\n    ) {\r\n      moveCam(scene, scenario[replicId].type);\r\n      cameraPosition = moves[scenario[replicId].type];\r\n    }\r\n\r\n    if (scenario[replicId].character) {\r\n      if (scenario[replicId].character === 'MAINHERO') {\r\n        // create person\r\n        if (mainPerson === null) {\r\n          mainPerson = new Person(\r\n            'woman',\r\n            personConfig,\r\n            scene,\r\n            0.3, //scaleCoef,\r\n            100, //X,\r\n            innerHeight / 2, //Y,\r\n          );\r\n        }\r\n\r\n        // emotion change\r\n        if (scenario[replicId].emotion) {\r\n          mainPerson.changeFace(scenario[replicId].emotion);\r\n        }\r\n      } else {\r\n        // create person\r\n        if (secondPerson === null) {\r\n          secondPerson = new Person(\r\n            'man',\r\n            secondPersonConfig,\r\n            scene,\r\n            0.3, //scaleCoef,\r\n            675, //X,\r\n            innerHeight / 2, //Y,\r\n          );\r\n        }\r\n\r\n        // emotion change\r\n        if (scenario[replicId].emotion) {\r\n          secondPerson.changeFace(scenario[replicId].emotion);\r\n        }\r\n\r\n        secondPerson.flipPerson();\r\n      }\r\n    }\r\n    if (!scenario[replicId].character) {\r\n      if (title !== null) {\r\n        title.destroy();\r\n        title = null;\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nclass Dialog extends Phaser.Scene {\r\n  constructor() {\r\n    super({\r\n      key: 'dialog',\r\n      active: true,\r\n    });\r\n  }\r\n\r\n  preload() {\r\n    this.load.image('balcony', balconyImg);\r\n    this.load.image('hall', hallImg);\r\n    this.load.image('bedroom', bedroomImg);\r\n    this.load.image('arrow', arrowImg);\r\n    this.load.image('ellipse', ellipseImg);\r\n    this.load.image('ellipseA', ellipseAImg);\r\n    this.load.image('body_woman_1', body_woman_1Img);\r\n    this.load.image('body_man_1', body_man_1Img);\r\n    this.load.image('body_woman_2', body_woman_2Img);\r\n    this.load.image('hair_woman_1', hair_woman_1Img);\r\n    this.load.image('hair_man_1', hair_man_1Img);\r\n    this.load.image('hair_woman_2', hair_woman_2Img);\r\n    this.load.image('hair_woman_1_back', hair_woman_1_backImg);\r\n    this.load.image('hair_man_1_back', hair_man_1_backImg);\r\n    this.load.image('hair_woman_2_back', hair_woman_2_backImg);\r\n    this.load.image('clothes_woman_1', clothes_woman_1Img);\r\n    this.load.image('clothes_man_1', clothes_man_1Img);\r\n    this.load.image('clothes_woman_2', clothes_woman_2Img);\r\n    this.load.image('face_woman_default', face_woman_defaultImg);\r\n    this.load.image('face_man_default', face_man_defaultImg);\r\n    this.load.image('face_woman_shy', face_woman_shyImg);\r\n    this.load.image('face_woman_angry', face_woman_angryImg);\r\n    this.load.image('face_woman_joy', face_woman_joyImg);\r\n    this.load.image('face_woman_surprised', face_woman_surprisedImg);\r\n    this.load.image('face_woman_sad', face_woman_sadImg);\r\n  }\r\n\r\n  create() {\r\n    this.cameras.main.setBounds(0, 0, 825, innerHeight);\r\n    this.cameras.main.scrollX = cameraPosition;\r\n\r\n    readReplic(replicId, this);\r\n  }\r\n\r\n  update() {}\r\n}\r\n\r\nconst moveCam = (scene, position) => {\r\n  const camera = scene.cameras.main;\r\n  scene.tweens.add({\r\n    targets: camera,\r\n    scrollX: moves[position],\r\n    ease: 'Cubic', // 'Cubic', 'Elastic', 'Bounce', 'Back', Linear\r\n    duration: 1000,\r\n    repeat: 0,\r\n    yoyo: false,\r\n  });\r\n\r\n  textBox.x = moves[position] + 40;\r\n  scene.tweens.add({\r\n    targets: textBox,\r\n    alpha: { from: 0, to: 1 },\r\n    ease: 'Cubic', // 'Cubic', 'Elastic', 'Bounce', 'Back', Linear\r\n    duration: 1000,\r\n    repeat: 0,\r\n    yoyo: false,\r\n  });\r\n\r\n  if (title) {\r\n    title.x = moves[position] + 60;\r\n    scene.tweens.add({\r\n      targets: title,\r\n      alpha: { from: 0, to: 1 },\r\n      ease: 'Cubic', // 'Cubic', 'Elastic', 'Bounce', 'Back', Linear\r\n      duration: 1000,\r\n      repeat: 0,\r\n      yoyo: false,\r\n    });\r\n  }\r\n};\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\nconst createTextBox = function (scene, x, y, config) {\r\n  const wrapWidth = GetValue(config, 'wrapWidth', 0);\r\n  const fixedWidth = GetValue(config, 'fixedWidth', 0);\r\n  const fixedHeight = GetValue(config, 'fixedHeight', 0);\r\n  var textBox = scene.rexUI.add\r\n    .textBox({\r\n      x: x,\r\n      y: y,\r\n\r\n      background: scene.rexUI.add\r\n        .roundRectangle(0, 0, 2, 2, 20, 0xffffff)\r\n        .setStrokeStyle(12, 0xc62d6e),\r\n\r\n      text: getBBcodeText(scene, wrapWidth, fixedWidth, fixedHeight),\r\n\r\n      space: {\r\n        left: 20,\r\n        right: 20,\r\n        top: 20,\r\n        bottom: 20,\r\n      },\r\n    })\r\n    .setOrigin(0)\r\n    .layout()\r\n    .setDepth(6)\r\n    .setInteractive()\r\n    .on(\r\n      'pointerdown',\r\n      function () {\r\n        if (this.isTyping) {\r\n          this.stop(true);\r\n        } else {\r\n          if (this.isLastPage) {\r\n            this.destroy();\r\n\r\n            replicId += 1;\r\n            scenario[replicId]\r\n              ? readReplic(replicId, scene)\r\n              : endOfStory(scene);\r\n          } else {\r\n            this.typeNextPage();\r\n          }\r\n        }\r\n      },\r\n      textBox,\r\n    );\r\n\r\n  return textBox;\r\n};\r\n\r\nconst createTitle = function (scene, x, y, config) {\r\n  const fixedWidth = GetValue(config, 'fixedWidth', 0);\r\n  const fixedHeight = GetValue(config, 'fixedHeight', 0);\r\n  const title = scene.rexUI.add\r\n    .textBox({\r\n      x: x,\r\n      y: y,\r\n      background: scene.rexUI.add.roundRectangle(0, 0, 0, 0, 5, 0xc62d6e),\r\n      text: getTitleText(scene, fixedWidth, fixedHeight),\r\n      space: {\r\n        left: 5,\r\n        right: 5,\r\n        top: 3,\r\n        bottom: 3,\r\n      },\r\n    })\r\n    .setOrigin(0)\r\n    .layout()\r\n    .setDepth(7);\r\n\r\n  return title;\r\n};\r\n\r\nconst getBBcodeText = function (scene, wrapWidth, fixedWidth, fixedHeight) {\r\n  return scene.rexUI.add.BBCodeText(0, 0, '', {\r\n    fixedWidth: fixedWidth,\r\n    fixedHeight: fixedHeight,\r\n\r\n    fontSize: '20px',\r\n    color: 'black',\r\n\r\n    wrap: {\r\n      mode: 'word',\r\n      width: wrapWidth,\r\n    },\r\n    maxLines: 3,\r\n  });\r\n};\r\nconst getTitleText = function (scene, fixedWidth, fixedHeight) {\r\n  return scene.rexUI.add.BBCodeText(0, 0, '', {\r\n    fixedWidth: fixedWidth,\r\n    fixedHeight: fixedHeight,\r\n\r\n    fontSize: '14px',\r\n    color: 'black',\r\n    anchor: 'center',\r\n  });\r\n};\r\n\r\nconst endOfStory = scene => {\r\n  const camera = scene.cameras.main;\r\n\r\n  scene.tweens.add({\r\n    targets: camera,\r\n    scrollX: 200,\r\n    ease: 'Cubic', // 'Cubic', 'Elastic', 'Bounce', 'Back', Linear\r\n    duration: 1000,\r\n    repeat: 0,\r\n    yoyo: false,\r\n  });\r\n\r\n  title.destroy();\r\n};\r\n\r\nexport default Dialog;\r\n","import balconyImg from '../images/bg/balcony.jpg';\r\nimport hallImg from '../images/bg/hall.jpg';\r\nimport bedroomImg from '../images/bg/bedroom.jpg';\r\nimport body_woman_1Img from '../images/woman/body/body_1.png';\r\nimport body_woman_2Img from '../images/woman/body/body_2.png';\r\nimport hair_woman_1Img from '../images/woman/hair/hair_1.png';\r\nimport hair_woman_2Img from '../images/woman/hair/hair_2.png';\r\nimport hair_woman_1_backImg from '../images/woman/hair/hair_1_back.png';\r\nimport hair_woman_2_backImg from '../images/woman/hair/hair_2_back.png';\r\nimport clothes_woman_1Img from '../images/woman/clothes/clothes_1.png';\r\nimport clothes_woman_2Img from '../images/woman/clothes/clothes_2.png';\r\nimport face_woman_defaultImg from '../images/woman/emotions/default.png';\r\nimport arrowImg from '../images/arrow.png';\r\nimport ellipseImg from '../images/ellipse.png';\r\nimport ellipseAImg from '../images/ellipseA.png';\r\n\r\nimport Dialog from '../scenes/dialog.js';\r\nimport { game } from '../index.js';\r\nimport Person from '../services/person.js';\r\nimport { Tabs, createNextBtn, createSbmtBtn } from '../services/creators.js';\r\n\r\nconst stageNames = [['body'], ['hair', 'hair_back'], ['clothes']];\r\nconst stageTitles = ['body', 'hair', 'clothes'];\r\nconst mainHeroX = innerWidth / 2;\r\nconst mainHeroY = innerHeight / 2;\r\n\r\nexport const personConfig = [0, 0, 0, 'default'];\r\n\r\nlet stageIdx = 0;\r\nlet chooseText;\r\nlet tabs;\r\nlet person;\r\n\r\nexport const setStage = i => {\r\n  stageIdx = i;\r\n  person.idx = personConfig[stageIdx];\r\n  chooseText.text = `Choose ${stageTitles[stageIdx]}`;\r\n};\r\n\r\nclass Customization extends Phaser.Scene {\r\n  constructor() {\r\n    super({\r\n      key: 'customization',\r\n      active: true,\r\n    });\r\n  }\r\n\r\n  preload() {\r\n    this.load.image('balcony', balconyImg);\r\n    this.load.image('hall', hallImg);\r\n    this.load.image('bedroom', bedroomImg);\r\n    this.load.image('arrow', arrowImg);\r\n    this.load.image('ellipse', ellipseImg);\r\n    this.load.image('ellipseA', ellipseAImg);\r\n    this.load.image('body_woman_1', body_woman_1Img);\r\n    this.load.image('body_woman_2', body_woman_2Img);\r\n    this.load.image('hair_woman_1', hair_woman_1Img);\r\n    this.load.image('hair_woman_2', hair_woman_2Img);\r\n    this.load.image('hair_woman_1_back', hair_woman_1_backImg);\r\n    this.load.image('hair_woman_2_back', hair_woman_2_backImg);\r\n    this.load.image('clothes_woman_1', clothes_woman_1Img);\r\n    this.load.image('clothes_woman_2', clothes_woman_2Img);\r\n    this.load.image('face_woman_default', face_woman_defaultImg);\r\n  }\r\n\r\n  create() {\r\n    const bgImg = this.add.image(0, 0, 'balcony');\r\n    const bgCoef = innerHeight / bgImg.height;\r\n    bgImg.setScale(bgCoef, bgCoef).setPosition(innerWidth / 2, innerHeight / 2);\r\n\r\n    const scaleCoef = innerHeight / 1300;\r\n\r\n    const genderW = 'woman';\r\n    person = new Person(\r\n      genderW,\r\n      personConfig,\r\n      this,\r\n      scaleCoef,\r\n      mainHeroX,\r\n      mainHeroY,\r\n    );\r\n\r\n    const arrowLeft = this.make.image({\r\n      x: person.body.x - innerWidth / 3,\r\n      y: person.body.y,\r\n      key: 'arrow',\r\n      flipX: true,\r\n    });\r\n\r\n    arrowLeft\r\n      .setInteractive()\r\n      .on('pointerdown', () => person.changeOption(stageNames, stageIdx));\r\n\r\n    const arrowRight = this.make.image({\r\n      x: person.body.x + innerWidth / 3,\r\n      y: person.body.y,\r\n      key: 'arrow',\r\n    });\r\n\r\n    arrowRight.setInteractive().on('pointerdown', () => {\r\n      person.changeOption(stageNames, stageIdx);\r\n    });\r\n\r\n    tabs = new Tabs(this);\r\n\r\n    chooseText = this.add.text(\r\n      innerWidth / 2,\r\n      545,\r\n      `Choose ${stageTitles[stageIdx]}`,\r\n      {\r\n        fontSize: '20px',\r\n        color: '#000000',\r\n      },\r\n    );\r\n    chooseText.setX(chooseText.x - chooseText.width / 2).setDepth(7);\r\n\r\n    createNextBtn(this, () => {\r\n      if (stageIdx !== stageNames.length - 1) {\r\n        personConfig[stageIdx] = person.idx;\r\n        person.idx = 0;\r\n        stageIdx += 1;\r\n        chooseText.text = `Choose ${stageTitles[stageIdx]}`;\r\n        tabs.clickBtn(stageIdx);\r\n      }\r\n    });\r\n\r\n    createSbmtBtn(this, () => {\r\n      personConfig[stageIdx] = person.idx;\r\n      game.scene.remove('customization');\r\n      game.scene.add('dialog', Dialog, true);\r\n    });\r\n  }\r\n\r\n  update() {}\r\n}\r\n\r\nexport default Customization;\r\n","import Phaser from 'phaser';\r\nimport UIPlugin from 'phaser3-rex-plugins/templates/ui/ui-plugin.js';\r\n\r\nimport Customization from './scenes/customization';\r\n\r\nconst config = {\r\n  type: Phaser.AUTO,\r\n  parent: 'root',\r\n  width: '100%',\r\n  height: '100%',\r\n  scale: {\r\n    mode: Phaser.Scale.FIT,\r\n    autoCenter: Phaser.Scale.CENTER_BOTH,\r\n  },\r\n  defaultImage: 'balcony',\r\n  scene: Customization,\r\n  plugins: {\r\n    scene: [\r\n      {\r\n        key: 'rexUI',\r\n        plugin: UIPlugin,\r\n        mapping: 'rexUI',\r\n      },\r\n    ],\r\n  },\r\n};\r\n\r\nexport const game = new Phaser.Game(config);\r\n","const hairBackArr = {\r\n  woman: ['hair_woman_1_back', 'hair_woman_2_back'],\r\n  man: ['hair_man_1_back'],\r\n};\r\nconst bodyArr = {\r\n  woman: ['body_woman_1', 'body_woman_2'],\r\n  man: ['body_man_1'],\r\n};\r\nconst hairArr = {\r\n  woman: ['hair_woman_1', 'hair_woman_2'],\r\n  man: ['hair_man_1'],\r\n};\r\nconst clothesArr = {\r\n  woman: ['clothes_woman_1', 'clothes_woman_2'],\r\n  man: ['clothes_man_1'],\r\n};\r\nimport { setStage } from '../scenes/customization.js';\r\n\r\nconst personConstructor = {\r\n  create_hair_back: (gender, idx, scene, scaleCoef, mainHeroX, mainHeroY) => {\r\n    const hair_back_Img = scene.add.image(0, 0, hairBackArr[gender][idx]);\r\n    hair_back_Img\r\n      .setScale(scaleCoef, scaleCoef)\r\n      .setPosition(mainHeroX, mainHeroY);\r\n\r\n    return hair_back_Img;\r\n  },\r\n\r\n  create_body: (gender, idx, scene, scaleCoef, mainHeroX, mainHeroY) => {\r\n    const bodyImg = scene.add.image(0, 0, bodyArr[gender][idx]);\r\n    bodyImg\r\n      .setScale(scaleCoef, scaleCoef)\r\n      .setPosition(mainHeroX, mainHeroY)\r\n      .setDepth(1);\r\n\r\n    return bodyImg;\r\n  },\r\n\r\n  create_hair: (gender, idx, scene, scaleCoef, mainHeroX, mainHeroY) => {\r\n    const hair_Img = scene.add.image(0, 0, hairArr[gender][idx]);\r\n    hair_Img\r\n      .setScale(scaleCoef, scaleCoef)\r\n      .setPosition(mainHeroX, mainHeroY)\r\n      .setDepth(3);\r\n\r\n    return hair_Img;\r\n  },\r\n\r\n  create_clothes: (gender, idx, scene, scaleCoef, mainHeroX, mainHeroY) => {\r\n    const clothes_Img = scene.add.image(0, 0, clothesArr[gender][idx]);\r\n    clothes_Img\r\n      .setScale(scaleCoef, scaleCoef)\r\n      .setPosition(mainHeroX, mainHeroY)\r\n      .setDepth(2);\r\n\r\n    return clothes_Img;\r\n  },\r\n\r\n  create_face: (gender, emotion, scene, scaleCoef, mainHeroX, mainHeroY) => {\r\n    const face_Img = scene.add.image(0, 0, `face_${gender}_${emotion}`);\r\n    face_Img\r\n      .setScale(scaleCoef, scaleCoef)\r\n      .setPosition(mainHeroX, mainHeroY)\r\n      .setDepth(2);\r\n\r\n    return face_Img;\r\n  },\r\n};\r\n\r\nclass Tabs {\r\n  constructor(scene) {\r\n    this.tabs = scene.rexUI.add\r\n      .roundRectangle(innerWidth / 2, 557, 300, 60, 10, 0xffffff)\r\n      .setAlpha(0.5)\r\n      .setDepth(5);\r\n\r\n    this.buttons = {\r\n      button0: scene.add\r\n        .image(innerWidth / 2 - 20, 520, 'ellipseA')\r\n        .setScale(0.8)\r\n        .setDepth(5)\r\n        .setInteractive()\r\n        .on('pointerdown', () => this.clickBtn(0)),\r\n\r\n      button1: scene.add\r\n        .image(innerWidth / 2, 520, 'ellipse')\r\n        .setScale(0.8)\r\n        .setDepth(5)\r\n        .setInteractive()\r\n        .on('pointerdown', () => this.clickBtn(1)),\r\n\r\n      button2: scene.add\r\n        .image(innerWidth / 2 + 20, 520, 'ellipse')\r\n        .setScale(0.8)\r\n        .setDepth(5)\r\n        .setInteractive()\r\n        .on('pointerdown', () => this.clickBtn(2)),\r\n\r\n      lastClickedIdx: 0,\r\n    };\r\n  }\r\n\r\n  clickBtn(idx) {\r\n    this.buttons[`button${this.buttons.lastClickedIdx}`].setTexture('ellipse');\r\n    this.buttons[`button${idx}`].setTexture('ellipseA');\r\n\r\n    this.buttons.lastClickedIdx = idx;\r\n    setStage(idx);\r\n  }\r\n}\r\n\r\nconst createNextBtn = (scene, callback) => {\r\n  const sbmtBtn = scene.rexUI.add\r\n    .textBox({\r\n      x: innerWidth / 2 + 100,\r\n      y: 560,\r\n\r\n      background: scene.rexUI.add\r\n        .roundRectangle(0, 0, 0, 0, 10, 0xdb5186)\r\n        .setDepth(6),\r\n\r\n      text: scene.add.text(0, 0, 'Next', { color: '#fff' }).setDepth(6),\r\n\r\n      space: {\r\n        left: 5,\r\n        right: 5,\r\n        top: 5,\r\n        bottom: 5,\r\n      },\r\n    })\r\n    .setOrigin(0)\r\n    .layout();\r\n\r\n  sbmtBtn.setInteractive().on('pointerdown', callback);\r\n\r\n  return sbmtBtn;\r\n};\r\n\r\nconst createSbmtBtn = (scene, callback) => {\r\n  const sbmtBtn = scene.rexUI.add\r\n    .textBox({\r\n      x: innerWidth / 2 - 73,\r\n      y: 610,\r\n\r\n      background: scene.rexUI.add\r\n        .roundRectangle(0, 0, 0, 0, 10, 0xdb5186)\r\n        .setDepth(6),\r\n\r\n      text: scene.add.text(0, 0, 'Confirm', { color: '#fff' }).setDepth(6),\r\n\r\n      space: {\r\n        left: 40,\r\n        right: 40,\r\n        top: 10,\r\n        bottom: 10,\r\n      },\r\n    })\r\n    .setOrigin(0)\r\n    .layout();\r\n\r\n  sbmtBtn.setInteractive().on('pointerdown', callback);\r\n\r\n  return sbmtBtn;\r\n};\r\n\r\nexport { personConstructor, Tabs, createNextBtn, createSbmtBtn };\r\n"],"sourceRoot":""}