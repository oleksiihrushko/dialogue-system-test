(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{E04i:function(e,t,a){"use strict";a.d(t,"b",(function(){return ae})),a.d(t,"c",(function(){return re}));var i=a.p+"images/bg/balcony.jpg",o=a.p+"images/bg/hall.jpg",n=a.p+"images/bg/bedroom.jpg",s=a.p+"images/woman/body/body_1.png",r=a.p+"images/woman/body/body_2.png",h=a.p+"images/woman/hair/hair_1.png",d=a.p+"images/woman/hair/hair_2.png",c=a.p+"images/woman/hair/hair_1_back.png",l=a.p+"images/woman/hair/hair_2_back.png",m=a.p+"images/woman/clothes/clothes_1.png",g=a.p+"images/woman/clothes/clothes_2.png",p=a.p+"images/woman/emotions/default.png",u=a.p+"images/arrow.png",y=a.p+"images/ellipse.png",x=a.p+"images/ellipseA.png",f=a("KDhq");const{personConstructor:_}=a("zljw");var b=class{constructor(e,t,a,i,o,n){this.idx=0,this.gender=e,this.personConfig=t,this.scene=a,this.scaleCoef=i,this.mainHeroX=o,this.mainHeroY=n,this.body=_.create_body(this.gender,this.personConfig[0],this.scene,this.scaleCoef,this.mainHeroX,this.mainHeroY),this.hair_back=_.create_hair_back(this.gender,this.personConfig[1],this.scene,this.scaleCoef,this.mainHeroX,this.mainHeroY),this.hair=_.create_hair(this.gender,this.personConfig[1],this.scene,this.scaleCoef,this.mainHeroX,this.mainHeroY),this.clothes=_.create_clothes(this.gender,this.personConfig[2],this.scene,this.scaleCoef,this.mainHeroX,this.mainHeroY),this.face=_.create_face(this.gender,this.personConfig[3],this.scene,this.scaleCoef,this.mainHeroX,this.mainHeroY)}changeOption(e,t){1===this.idx?this.idx=0:this.idx=1,e[t].forEach(e=>{this[e].destroy(),this[e]=_[`create_${e}`](this.gender,this.idx,this.scene,this.scaleCoef,this.mainHeroX,this.mainHeroY)})}changeFace(e){this.face.destroy(),this.face=_.create_face(this.gender,e,this.scene,this.scaleCoef,this.mainHeroX,this.mainHeroY)}destroyPerson(){this.body.destroy(),this.hair_back.destroy(),this.hair.destroy(),this.clothes.destroy(),this.face.destroy()}flipPerson(){this.body.setFlipX(!0),this.hair_back.setFlipX(!0),this.hair.setFlipX(!0),this.clothes.setFlipX(!0),this.face.setFlipX(!0)}},w=a.p+"images/man/body/body_1.png",I=a.p+"images/man/hair/hair_1.png",k=a.p+"images/man/hair/hair_1_back.png",H=a.p+"images/man/clothes/clothes_1.png",C=a.p+"images/woman/emotions/shy.png",O=a.p+"images/woman/emotions/angry.png",v=a.p+"images/woman/emotions/joy.png",W=a.p+"images/woman/emotions/surprised.png",A=a.p+"images/woman/emotions/sad.png",R=a.p+"images/man/emotions/default.png";let S;var T=null;let N,B=0,X=null,D=null;const E=[0,0,0,"default"];let Y=150;const U={left:0,middle:200,right:425},M=(e,t)=>{if("background"===f[e].type){S=t.add.image(0,0,f[e].backgroundName);const a=667/S.height;S.setScale(a,a).setOrigin(0).setDepth(-1),e+=1,t.cameras.main.scrollX=200,M(e,t)}else N=z(t,innerWidth/2+50,500,{wrapWidth:260,fixedWidth:260,fixedHeight:65}).start(f[e].text,50),f[e].character&&null===T&&(T=$(t,innerWidth/2,490,{fixedWidth:70,fixedHeight:16}).start(f[e].character,50)),f[e].type!==Y&&"background"!==f[e].type&&(j(t,f[e].type),Y=U[f[e].type]),f[e].character&&("MAINHERO"===f[e].character?(null===X&&(X=new b("woman",ae,t,.3,100,innerHeight/2)),f[e].emotion&&X.changeFace(f[e].emotion)):(null===D&&(D=new b("man",E,t,.3,675,innerHeight/2)),f[e].emotion&&D.changeFace(f[e].emotion),D.flipPerson())),f[e].character||null!==T&&(T.destroy(),T=null)};class P extends Phaser.Scene{constructor(){super({key:"dialog",active:!0})}preload(){this.load.image("balcony",i),this.load.image("hall",o),this.load.image("bedroom",n),this.load.image("arrow",u),this.load.image("ellipse",y),this.load.image("ellipseA",x),this.load.image("body_woman_1",s),this.load.image("body_man_1",w),this.load.image("body_woman_2",r),this.load.image("hair_woman_1",h),this.load.image("hair_man_1",I),this.load.image("hair_woman_2",d),this.load.image("hair_woman_1_back",c),this.load.image("hair_man_1_back",k),this.load.image("hair_woman_2_back",l),this.load.image("clothes_woman_1",m),this.load.image("clothes_man_1",H),this.load.image("clothes_woman_2",g),this.load.image("face_woman_default",p),this.load.image("face_man_default",R),this.load.image("face_woman_shy",C),this.load.image("face_woman_angry",O),this.load.image("face_woman_joy",v),this.load.image("face_woman_surprised",W),this.load.image("face_woman_sad",A)}create(){this.cameras.main.setBounds(0,0,825,innerHeight),this.cameras.main.scrollX=Y,M(B,this)}update(){}}const j=(e,t)=>{const a=e.cameras.main;e.tweens.add({targets:a,scrollX:U[t],ease:"Cubic",duration:1e3,repeat:0,yoyo:!1}),N.x=U[t]+40,e.tweens.add({targets:N,alpha:{from:0,to:1},ease:"Cubic",duration:1e3,repeat:0,yoyo:!1}),T&&(T.x=U[t]+60,e.tweens.add({targets:T,alpha:{from:0,to:1},ease:"Cubic",duration:1e3,repeat:0,yoyo:!1}))},F=Phaser.Utils.Objects.GetValue,z=function(e,t,a,i){const o=F(i,"wrapWidth",0),n=F(i,"fixedWidth",0),s=F(i,"fixedHeight",0);var r=e.rexUI.add.textBox({x:t,y:a,background:e.rexUI.add.roundRectangle(0,0,2,2,20,16777215).setStrokeStyle(12,12987758),text:q(e,o,n,s),space:{left:20,right:20,top:20,bottom:20}}).setOrigin(0).layout().setDepth(6).setInteractive().on("pointerdown",(function(){this.isTyping?this.stop(!0):this.isLastPage?(this.destroy(),B+=1,f[B]?M(B,e):J(e)):this.typeNextPage()}),r);return r},$=function(e,t,a,i){const o=F(i,"fixedWidth",0),n=F(i,"fixedHeight",0);return e.rexUI.add.textBox({x:t,y:a,background:e.rexUI.add.roundRectangle(0,0,0,0,5,12987758),text:G(e,o,n),space:{left:5,right:5,top:3,bottom:3}}).setOrigin(0).layout().setDepth(7)},q=function(e,t,a,i){return e.rexUI.add.BBCodeText(0,0,"",{fixedWidth:a,fixedHeight:i,fontSize:"20px",color:"black",wrap:{mode:"word",width:t},maxLines:3})},G=function(e,t,a){return e.rexUI.add.BBCodeText(0,0,"",{fixedWidth:t,fixedHeight:a,fontSize:"14px",color:"black",anchor:"center"})},J=e=>{const t=e.cameras.main;e.tweens.add({targets:t,scrollX:200,ease:"Cubic",duration:1e3,repeat:0,yoyo:!1}),T.destroy()};var L=P,Q=a("QfWi"),K=a("zljw");const V=[["body"],["hair","hair_back"],["clothes"]],Z=["body","hair","clothes"],ee=innerWidth/2,te=innerHeight/2,ae=[0,0,0,"default"];let ie,oe,ne,se=0;const re=e=>{se=e,ne.idx=ae[se],ie.text=`Choose ${Z[se]}`};class he extends Phaser.Scene{constructor(){super({key:"customization",active:!0})}preload(){this.load.image("balcony",i),this.load.image("hall",o),this.load.image("bedroom",n),this.load.image("arrow",u),this.load.image("ellipse",y),this.load.image("ellipseA",x),this.load.image("body_woman_1",s),this.load.image("body_woman_2",r),this.load.image("hair_woman_1",h),this.load.image("hair_woman_2",d),this.load.image("hair_woman_1_back",c),this.load.image("hair_woman_2_back",l),this.load.image("clothes_woman_1",m),this.load.image("clothes_woman_2",g),this.load.image("face_woman_default",p)}create(){const e=this.add.image(0,0,"balcony"),t=innerHeight/e.height;e.setScale(t,t).setPosition(innerWidth/2,innerHeight/2);const a=innerHeight/1300;ne=new b("woman",ae,this,a,ee,te),this.make.image({x:ne.body.x-innerWidth/3,y:ne.body.y,key:"arrow",flipX:!0}).setInteractive().on("pointerdown",()=>ne.changeOption(V,se)),this.make.image({x:ne.body.x+innerWidth/3,y:ne.body.y,key:"arrow"}).setInteractive().on("pointerdown",()=>{ne.changeOption(V,se)}),oe=new K.Tabs(this),ie=this.add.text(innerWidth/2,545,`Choose ${Z[se]}`,{fontSize:"20px",color:"#000000"}),ie.setX(ie.x-ie.width/2).setDepth(7),Object(K.createNextBtn)(this,()=>{se!==V.length-1&&(ae[se]=ne.idx,ne.idx=0,se+=1,ie.text=`Choose ${Z[se]}`,oe.clickBtn(se))}),Object(K.createSbmtBtn)(this,()=>{ae[se]=ne.idx,Q.game.scene.remove("customization"),Q.game.scene.add("dialog",L,!0)})}update(){}}t.a=he},KDhq:function(e){e.exports=JSON.parse('[{"meta1":"end","id":"0","type":"background","backgroundName":"bedroom","nextId":"1"},{"meta1":"end","id":"1","text":"You have been so immersed with the several cases that plagued the company this week that you didn’t even notice it was Thursday already.","type":"middle","nextId":"2"},{"meta1":"end","emotion":"default","character":"MAINHERO","id":"2","text":"How come it’s here so quickly? I guess the Gala doesn’t make this week any special than the other ones.","boxType":"thought","type":"left","nextId":"3","choices":[]},{"meta1":"end","emotion":"sad","character":"MAINHERO","id":"3","text":"Well, except Obnoxious Oliver questioning me repeatedly about who exactly I’m bringing to the Gala.","boxType":"thought","type":"left","nextId":"4","choices":[]},{"meta1":"end","emotion":"angry","character":"MAINHERO","id":"4","text":"And Marco’s endless texts begging me to change my mind and taste a bit of the \'Marco sauce\'.","boxType":"thought","type":"left","nextId":"5","choices":[]},{"meta1":"end","id":"5","text":"You roll your eyes and scoff disgusted by both guys. You can’t seem to tell who pisses you off more.","type":"middle","nextId":"6"},{"meta1":"end","emotion":"default","character":"MAINHERO","id":"6","text":"I can’t stand...","boxType":"","type":"left","nextId":"7","choices":[]},{"meta1":"end","emotion":"default","character":"MAINHERO","id":"7","text":"At least, Russell took responsibility and talked to Marco. I wonder, what did he say to him?","boxType":"thought","type":"left","nextId":"8","choices":[]},{"meta1":"end","emotion":"sad","character":"MAINHERO","id":"8","text":"When I asked him, all he told me was he took care of it.","boxType":"thought","type":"left","nextId":"9","choices":[]},{"meta1":"end","emotion":"default","character":"MAINHERO","id":"9","text":"At least I need to do my part too and try to look as gorgeous as I can for my best friend.","boxType":"thought","type":"left","nextId":"10","choices":[]},{"meta1":"end","id":"10","text":"You open your closet and browse through your clothes.","type":"middle","nextId":"11"},{"meta1":"end","emotion":"default","character":"MAINHERO","id":"11","text":"I need an outfit that says a loving woman in a relationship with the man of her dreams.","boxType":"thought","type":"left","nextId":"12","choices":[]},{"meta1":"end","id":"12","text":"You do a shimmy in front of the mirror as you check yourself out.","type":"middle","nextId":"13"},{"meta1":"end","emotion":"default","character":"MAINHERO","id":"13","text":"Looks perfect to me. I hope Russell would love it too...","boxType":"thought","type":"left","nextId":"14","choices":[]},{"meta1":"end","emotion":"shy","character":"MAINHERO","id":"14","text":"I wonder, why do I keep trying to impress him so much… Pull yourself together, MAIN777!","boxType":"thought","type":"left","nextId":"15","choices":[]},{"meta1":"end","id":"15","type":"background","backgroundName":"hall","nextId":"16"},{"meta1":"end","id":"16","text":"You take a taxi to the event. You walk in to find yourself in a glamorous ballroom with dramatic chandeliers and exquisite couches.","type":"middle","nextId":"17"},{"meta1":"end","id":"17","text":"Russell is already waiting for you. You stand still checking him from toes to head. Your heart beats faster.","type":"middle","nextId":"18"},{"meta1":"end","emotion":"surprised","character":"MAINHERO","id":"18","text":"Wow! I don’t recall him wearing such a gorgeous suit ever!","boxType":"thought","type":"left","nextId":"19","choices":[]},{"meta1":"end","emotion":"default","character":"Russell","id":"19","text":"Sweetheart! Finally, I was starting to die of boredom, though I came only five minutes ago.","type":"right","nextId":"20"},{"meta1":"end","id":"20","text":"He approaches you and gives a light kiss on your hand. You feel blush pouring to your cheeks.","type":"middle","nextId":"21"},{"meta1":"end","emotion":"default","character":"Russell","id":"21","text":"What’s wrong, girl?","type":"right","nextId":"22"}]')},QfWi:function(e,t,a){"use strict";a.r(t),a.d(t,"game",(function(){return h}));var i=a("2u90"),o=a.n(i),n=a("UnlU"),s=a("E04i");const r={type:o.a.AUTO,parent:"root",width:"100%",height:"100%",scale:{mode:o.a.Scale.FIT,autoCenter:o.a.Scale.CENTER_BOTH},defaultImage:"balcony",scene:s.a,plugins:{scene:[{key:"rexUI",plugin:n.a,mapping:"rexUI"}]}},h=new o.a.Game(r)},zljw:function(e,t,a){"use strict";a.r(t),a.d(t,"personConstructor",(function(){return h})),a.d(t,"Tabs",(function(){return d})),a.d(t,"createNextBtn",(function(){return c})),a.d(t,"createSbmtBtn",(function(){return l}));var i=a("E04i");const o={woman:["hair_woman_1_back","hair_woman_2_back"],man:["hair_man_1_back"]},n={woman:["body_woman_1","body_woman_2"],man:["body_man_1"]},s={woman:["hair_woman_1","hair_woman_2"],man:["hair_man_1"]},r={woman:["clothes_woman_1","clothes_woman_2"],man:["clothes_man_1"]},h={create_hair_back:(e,t,a,i,n,s)=>{const r=a.add.image(0,0,o[e][t]);return r.setScale(i,i).setPosition(n,s),r},create_body:(e,t,a,i,o,s)=>{const r=a.add.image(0,0,n[e][t]);return r.setScale(i,i).setPosition(o,s).setDepth(1),r},create_hair:(e,t,a,i,o,n)=>{const r=a.add.image(0,0,s[e][t]);return r.setScale(i,i).setPosition(o,n).setDepth(3),r},create_clothes:(e,t,a,i,o,n)=>{const s=a.add.image(0,0,r[e][t]);return s.setScale(i,i).setPosition(o,n).setDepth(2),s},create_face:(e,t,a,i,o,n)=>{const s=a.add.image(0,0,`face_${e}_${t}`);return s.setScale(i,i).setPosition(o,n).setDepth(2),s}};class d{constructor(e){this.tabs=e.rexUI.add.roundRectangle(innerWidth/2,557,300,60,10,16777215).setAlpha(.5).setDepth(5),this.buttons={button0:e.add.image(innerWidth/2-20,520,"ellipseA").setScale(.8).setDepth(5).setInteractive().on("pointerdown",()=>this.clickBtn(0)),button1:e.add.image(innerWidth/2,520,"ellipse").setScale(.8).setDepth(5).setInteractive().on("pointerdown",()=>this.clickBtn(1)),button2:e.add.image(innerWidth/2+20,520,"ellipse").setScale(.8).setDepth(5).setInteractive().on("pointerdown",()=>this.clickBtn(2)),lastClickedIdx:0}}clickBtn(e){this.buttons[`button${this.buttons.lastClickedIdx}`].setTexture("ellipse"),this.buttons[`button${e}`].setTexture("ellipseA"),this.buttons.lastClickedIdx=e,Object(i.c)(e)}}const c=(e,t)=>{const a=e.rexUI.add.textBox({x:innerWidth/2+100,y:560,background:e.rexUI.add.roundRectangle(0,0,0,0,10,14373254).setDepth(6),text:e.add.text(0,0,"Next",{color:"#fff"}).setDepth(6),space:{left:5,right:5,top:5,bottom:5}}).setOrigin(0).layout();return a.setInteractive().on("pointerdown",t),a},l=(e,t)=>{const a=e.rexUI.add.textBox({x:innerWidth/2-73,y:610,background:e.rexUI.add.roundRectangle(0,0,0,0,10,14373254).setDepth(6),text:e.add.text(0,0,"Confirm",{color:"#fff"}).setDepth(6),space:{left:40,right:40,top:10,bottom:10}}).setOrigin(0).layout();return a.setInteractive().on("pointerdown",t),a}}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.2cb575899f18ed5d0c23.js.map