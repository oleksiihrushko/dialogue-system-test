(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{E04i:function(e,t,a){"use strict";a.d(t,"b",(function(){return he})),a.d(t,"c",(function(){return ge}));var i=a.p+"images/bg/balcony.jpg",o=a.p+"images/bg/hall.jpg",n=a.p+"images/bg/bedroom.jpg",s=a.p+"images/woman/body/body_1.png",r=a.p+"images/woman/body/body_2.png",h=a.p+"images/woman/hair/hair_1.png",d=a.p+"images/woman/hair/hair_2.png",c=a.p+"images/woman/hair/hair_1_back.png",m=a.p+"images/woman/hair/hair_2_back.png",l=a.p+"images/woman/clothes/clothes_1.png",g=a.p+"images/woman/clothes/clothes_2.png",p=a.p+"images/woman/emotions_white/default.png",u=a.p+"images/woman/emotions_black/default.png",_=a.p+"images/arrow.png",y=a.p+"images/ellipse.png",f=a.p+"images/ellipseA.png",x=a("KDhq");const{personConstructor:w}=a("zljw");var b=class{constructor(e,t,a,i,o,n){this.idx=0,this.gender=e,this.personConfig=t,this.scene=a,this.scaleCoef=i,this.mainHeroX=o,this.mainHeroY=n,this.body=w.create_body(this.gender,this.personConfig[0],this.scene,this.scaleCoef,this.mainHeroX,this.mainHeroY),this.hair_back=w.create_hair_back(this.gender,this.personConfig[1],this.scene,this.scaleCoef,this.mainHeroX,this.mainHeroY),this.hair=w.create_hair(this.gender,this.personConfig[1],this.scene,this.scaleCoef,this.mainHeroX,this.mainHeroY),this.clothes=w.create_clothes(this.gender,this.personConfig[2],this.scene,this.scaleCoef,this.mainHeroX,this.mainHeroY),this.face=w.create_face(this.gender,this.personConfig[3],this.personConfig[0],this.scene,this.scaleCoef,this.mainHeroX,this.mainHeroY)}changeOption(e,t){1===this.idx?this.idx=0:this.idx=1,e[t].forEach(e=>{"body"===e&&(this.face.destroy(),this.face=w.create_face(this.gender,this.personConfig[3],this.idx,this.scene,this.scaleCoef,this.mainHeroX,this.mainHeroY)),this[e].destroy(),this[e]=w[`create_${e}`](this.gender,this.idx,this.scene,this.scaleCoef,this.mainHeroX,this.mainHeroY)})}changeFace(e,t){this.face.destroy(),this.face=w.create_face(this.gender,e,t,this.scene,this.scaleCoef,this.mainHeroX,this.mainHeroY)}destroyPerson(){this.body.destroy(),this.hair_back.destroy(),this.hair.destroy(),this.clothes.destroy(),this.face.destroy()}flipPerson(){this.body.setFlipX(!0),this.hair_back.setFlipX(!0),this.hair.setFlipX(!0),this.clothes.setFlipX(!0),this.face.setFlipX(!0)}},I=a.p+"images/man/body/body_1.png",k=a.p+"images/man/hair/hair_1.png",H=a.p+"images/man/hair/hair_1_back.png",C=a.p+"images/man/clothes/clothes_1.png",O=a.p+"images/woman/emotions_white/shy.png",v=a.p+"images/woman/emotions_white/angry.png",W=a.p+"images/woman/emotions_white/joy.png",A=a.p+"images/woman/emotions_white/surprised.png",R=a.p+"images/woman/emotions_white/sad.png",S=a.p+"images/woman/emotions_black/shy.png",T=a.p+"images/woman/emotions_black/angry.png",N=a.p+"images/woman/emotions_black/joy.png",X=a.p+"images/woman/emotions_black/surprised.png",B=a.p+"images/woman/emotions_black/sad.png",Y=a.p+"images/man/emotions/default.png";let D;var E=null;let U,M=0,P=null,j=null;const $=[0,0,0,"default"];let F=150;const z={left:0,middle:200,right:425},q=(e,t)=>{if("background"===x[e].type){D=t.add.image(0,0,x[e].backgroundName);const a=667/D.height;D.setScale(a,a).setOrigin(0).setDepth(-1),e+=1,t.cameras.main.scrollX=200,q(e,t)}else U=Q(t,innerWidth/2+50,500,{wrapWidth:260,fixedWidth:260,fixedHeight:65}).start(x[e].text,50),x[e].character&&null===E&&(E=K(t,innerWidth/2,490,{fixedWidth:70,fixedHeight:16}).start(x[e].character,50)),x[e].type!==F&&"background"!==x[e].type&&(J(t,x[e].type),F=z[x[e].type]),x[e].character&&("MAINHERO"===x[e].character?(null===P&&(P=new b("woman",he,t,.3,100,innerHeight/2)),x[e].emotion&&P.changeFace(x[e].emotion,he[0])):(null===j&&(j=new b("man",$,t,.3,675,innerHeight/2)),x[e].emotion&&j.changeFace(x[e].emotion,$[0]),j.flipPerson())),x[e].character||null!==E&&(E.destroy(),E=null)};class G extends Phaser.Scene{constructor(){super({key:"dialog",active:!0})}preload(){this.load.image("balcony",i),this.load.image("hall",o),this.load.image("bedroom",n),this.load.image("arrow",_),this.load.image("ellipse",y),this.load.image("ellipseA",f),this.load.image("body_woman_1",s),this.load.image("body_man_1",I),this.load.image("body_woman_2",r),this.load.image("hair_woman_1",h),this.load.image("hair_man_1",k),this.load.image("hair_woman_2",d),this.load.image("hair_woman_1_back",c),this.load.image("hair_man_1_back",H),this.load.image("hair_woman_2_back",m),this.load.image("clothes_woman_1",l),this.load.image("clothes_man_1",C),this.load.image("clothes_woman_2",g),this.load.image("face_woman_w_default",p),this.load.image("face_woman_w_shy",O),this.load.image("face_woman_w_angry",v),this.load.image("face_woman_w_joy",W),this.load.image("face_woman_w_surprised",A),this.load.image("face_woman_w_sad",R),this.load.image("face_woman_b_default",u),this.load.image("face_woman_b_shy",S),this.load.image("face_woman_b_angry",T),this.load.image("face_woman_b_joy",N),this.load.image("face_woman_b_surprised",X),this.load.image("face_woman_b_sad",B),this.load.image("face_man_default",Y)}create(){this.cameras.main.setBounds(0,0,825,innerHeight),this.cameras.main.scrollX=F,q(M,this)}update(){}}const J=(e,t)=>{const a=e.cameras.main;e.tweens.add({targets:a,scrollX:z[t],ease:"Cubic",duration:1e3,repeat:0,yoyo:!1}),U.x=z[t]+40,e.tweens.add({targets:U,alpha:{from:0,to:1},ease:"Cubic",duration:1e3,repeat:0,yoyo:!1}),E&&(E.x=z[t]+60,e.tweens.add({targets:E,alpha:{from:0,to:1},ease:"Cubic",duration:1e3,repeat:0,yoyo:!1}))},L=Phaser.Utils.Objects.GetValue,Q=function(e,t,a,i){const o=L(i,"wrapWidth",0),n=L(i,"fixedWidth",0),s=L(i,"fixedHeight",0);var r=e.rexUI.add.textBox({x:t,y:a,background:e.rexUI.add.roundRectangle(0,0,2,2,20,16777215).setStrokeStyle(12,12987758),text:V(e,o,n,s),space:{left:20,right:20,top:20,bottom:20}}).setOrigin(0).layout().setDepth(6).setInteractive().on("pointerdown",(function(){this.isTyping?this.stop(!0):this.isLastPage?(this.destroy(),M+=1,x[M]?q(M,e):ee(e)):this.typeNextPage()}),r);return r},K=function(e,t,a,i){const o=L(i,"fixedWidth",0),n=L(i,"fixedHeight",0);return e.rexUI.add.textBox({x:t,y:a,background:e.rexUI.add.roundRectangle(0,0,0,0,5,12987758),text:Z(e,o,n),space:{left:5,right:5,top:3,bottom:3}}).setOrigin(0).layout().setDepth(7)},V=function(e,t,a,i){return e.rexUI.add.BBCodeText(0,0,"",{fixedWidth:a,fixedHeight:i,fontSize:"20px",color:"black",wrap:{mode:"word",width:t},maxLines:3})},Z=function(e,t,a){return e.rexUI.add.BBCodeText(0,0,"",{fixedWidth:t,fixedHeight:a,fontSize:"14px",color:"black",anchor:"center"})},ee=e=>{const t=e.cameras.main;e.tweens.add({targets:t,scrollX:200,ease:"Cubic",duration:1e3,repeat:0,yoyo:!1}),E.destroy()};var te=G,ae=a("QfWi"),ie=a("zljw");const oe=[["body"],["hair","hair_back"],["clothes"]],ne=["body","hair","clothes"],se=innerWidth/2,re=innerHeight/2,he=[0,0,0,"default"];let de,ce,me,le=0;const ge=e=>{le=e,me.idx=he[le],de.text=`Choose ${ne[le]}`};class pe extends Phaser.Scene{constructor(){super({key:"customization",active:!0})}preload(){this.load.image("balcony",i),this.load.image("hall",o),this.load.image("bedroom",n),this.load.image("arrow",_),this.load.image("ellipse",y),this.load.image("ellipseA",f),this.load.image("body_woman_1",s),this.load.image("body_woman_2",r),this.load.image("hair_woman_1",h),this.load.image("hair_woman_2",d),this.load.image("hair_woman_1_back",c),this.load.image("hair_woman_2_back",m),this.load.image("clothes_woman_1",l),this.load.image("clothes_woman_2",g),this.load.image("face_woman_w_default",p),this.load.image("face_woman_b_default",u)}create(){const e=this.add.image(0,0,"balcony"),t=innerHeight/e.height;e.setScale(t,t).setPosition(innerWidth/2,innerHeight/2);const a=innerHeight/1300;me=new b("woman",he,this,a,se,re),this.make.image({x:me.body.x-innerWidth/3,y:me.body.y,key:"arrow",flipX:!0}).setInteractive().on("pointerdown",()=>me.changeOption(oe,le)),this.make.image({x:me.body.x+innerWidth/3,y:me.body.y,key:"arrow"}).setInteractive().on("pointerdown",()=>{me.changeOption(oe,le)}),ce=new ie.Tabs(this),de=this.add.text(innerWidth/2,545,`Choose ${ne[le]}`,{fontSize:"20px",color:"#000000"}),de.setX(de.x-de.width/2).setDepth(7),Object(ie.createNextBtn)(this,()=>{le!==oe.length-1&&(he[le]=me.idx,me.idx=0,le+=1,de.text=`Choose ${ne[le]}`,ce.clickBtn(le))}),Object(ie.createSbmtBtn)(this,()=>{he[le]=me.idx,ae.game.scene.remove("customization"),ae.game.scene.add("dialog",te,!0)})}update(){}}t.a=pe},KDhq:function(e){e.exports=JSON.parse('[{"meta1":"end","id":"0","type":"background","backgroundName":"bedroom","nextId":"1"},{"meta1":"end","id":"1","text":"You have been so immersed with the several cases that plagued the company this week that you didn’t even notice it was Thursday already.","type":"middle","nextId":"2"},{"meta1":"end","emotion":"default","character":"MAINHERO","id":"2","text":"How come it’s here so quickly? I guess the Gala doesn’t make this week any special than the other ones.","boxType":"thought","type":"left","nextId":"3","choices":[]},{"meta1":"end","emotion":"sad","character":"MAINHERO","id":"3","text":"Well, except Obnoxious Oliver questioning me repeatedly about who exactly I’m bringing to the Gala.","boxType":"thought","type":"left","nextId":"4","choices":[]},{"meta1":"end","emotion":"angry","character":"MAINHERO","id":"4","text":"And Marco’s endless texts begging me to change my mind and taste a bit of the \'Marco sauce\'.","boxType":"thought","type":"left","nextId":"5","choices":[]},{"meta1":"end","id":"5","text":"You roll your eyes and scoff disgusted by both guys. You can’t seem to tell who pisses you off more.","type":"middle","nextId":"6"},{"meta1":"end","emotion":"default","character":"MAINHERO","id":"6","text":"I can’t stand...","boxType":"","type":"left","nextId":"7","choices":[]},{"meta1":"end","emotion":"default","character":"MAINHERO","id":"7","text":"At least, Russell took responsibility and talked to Marco. I wonder, what did he say to him?","boxType":"thought","type":"left","nextId":"8","choices":[]},{"meta1":"end","emotion":"sad","character":"MAINHERO","id":"8","text":"When I asked him, all he told me was he took care of it.","boxType":"thought","type":"left","nextId":"9","choices":[]},{"meta1":"end","emotion":"default","character":"MAINHERO","id":"9","text":"At least I need to do my part too and try to look as gorgeous as I can for my best friend.","boxType":"thought","type":"left","nextId":"10","choices":[]},{"meta1":"end","id":"10","text":"You open your closet and browse through your clothes.","type":"middle","nextId":"11"},{"meta1":"end","emotion":"default","character":"MAINHERO","id":"11","text":"I need an outfit that says a loving woman in a relationship with the man of her dreams.","boxType":"thought","type":"left","nextId":"12","choices":[]},{"meta1":"end","id":"12","text":"You do a shimmy in front of the mirror as you check yourself out.","type":"middle","nextId":"13"},{"meta1":"end","emotion":"default","character":"MAINHERO","id":"13","text":"Looks perfect to me. I hope Russell would love it too...","boxType":"thought","type":"left","nextId":"14","choices":[]},{"meta1":"end","emotion":"shy","character":"MAINHERO","id":"14","text":"I wonder, why do I keep trying to impress him so much… Pull yourself together, MAIN777!","boxType":"thought","type":"left","nextId":"15","choices":[]},{"meta1":"end","id":"15","type":"background","backgroundName":"hall","nextId":"16"},{"meta1":"end","id":"16","text":"You take a taxi to the event. You walk in to find yourself in a glamorous ballroom with dramatic chandeliers and exquisite couches.","type":"middle","nextId":"17"},{"meta1":"end","id":"17","text":"Russell is already waiting for you. You stand still checking him from toes to head. Your heart beats faster.","type":"middle","nextId":"18"},{"meta1":"end","emotion":"surprised","character":"MAINHERO","id":"18","text":"Wow! I don’t recall him wearing such a gorgeous suit ever!","boxType":"thought","type":"left","nextId":"19","choices":[]},{"meta1":"end","emotion":"default","character":"Russell","id":"19","text":"Sweetheart! Finally, I was starting to die of boredom, though I came only five minutes ago.","type":"right","nextId":"20"},{"meta1":"end","id":"20","text":"He approaches you and gives a light kiss on your hand. You feel blush pouring to your cheeks.","type":"middle","nextId":"21"},{"meta1":"end","emotion":"default","character":"Russell","id":"21","text":"What’s wrong, girl?","type":"right","nextId":"22"}]')},QfWi:function(e,t,a){"use strict";a.r(t),a.d(t,"game",(function(){return h}));var i=a("2u90"),o=a.n(i),n=a("UnlU"),s=a("E04i");const r={type:o.a.AUTO,parent:"root",width:"100%",height:"100%",scale:{mode:o.a.Scale.FIT,autoCenter:o.a.Scale.CENTER_BOTH},defaultImage:"balcony",scene:s.a,plugins:{scene:[{key:"rexUI",plugin:n.a,mapping:"rexUI"}]}},h=new o.a.Game(r)},zljw:function(e,t,a){"use strict";a.r(t),a.d(t,"personConstructor",(function(){return d})),a.d(t,"Tabs",(function(){return c})),a.d(t,"createNextBtn",(function(){return m})),a.d(t,"createSbmtBtn",(function(){return l}));var i=a("E04i");const o={woman:["hair_woman_1_back","hair_woman_2_back"],man:["hair_man_1_back"]},n={woman:["body_woman_1","body_woman_2"],man:["body_man_1"]},s={woman:["hair_woman_1","hair_woman_2"],man:["hair_man_1"]},r={woman:["clothes_woman_1","clothes_woman_2"],man:["clothes_man_1"]},h=["w","b"],d={create_hair_back:(e,t,a,i,n,s)=>{const r=a.add.image(0,0,o[e][t]);return r.setScale(i,i).setPosition(n,s),r},create_body:(e,t,a,i,o,s)=>{const r=a.add.image(0,0,n[e][t]);return r.setScale(i,i).setPosition(o,s).setDepth(1),r},create_hair:(e,t,a,i,o,n)=>{const r=a.add.image(0,0,s[e][t]);return r.setScale(i,i).setPosition(o,n).setDepth(3),r},create_clothes:(e,t,a,i,o,n)=>{const s=a.add.image(0,0,r[e][t]);return s.setScale(i,i).setPosition(o,n).setDepth(2),s},create_face:(e,t,a,i,o,n,s)=>{console.log(`face_${e}_${h[a]}_${t}`);const r=i.add.image(0,0,`face_${e}_${h[a]}_${t}`);return r.setScale(o,o).setPosition(n,s).setDepth(2),r}};class c{constructor(e){this.tabs=e.rexUI.add.roundRectangle(innerWidth/2,557,300,60,10,16777215).setAlpha(.5).setDepth(5),this.buttons={button0:e.add.image(innerWidth/2-20,520,"ellipseA").setScale(.8).setDepth(5).setInteractive().on("pointerdown",()=>this.clickBtn(0)),button1:e.add.image(innerWidth/2,520,"ellipse").setScale(.8).setDepth(5).setInteractive().on("pointerdown",()=>this.clickBtn(1)),button2:e.add.image(innerWidth/2+20,520,"ellipse").setScale(.8).setDepth(5).setInteractive().on("pointerdown",()=>this.clickBtn(2)),lastClickedIdx:0}}clickBtn(e){this.buttons[`button${this.buttons.lastClickedIdx}`].setTexture("ellipse"),this.buttons[`button${e}`].setTexture("ellipseA"),this.buttons.lastClickedIdx=e,Object(i.c)(e)}}const m=(e,t)=>{const a=e.rexUI.add.textBox({x:innerWidth/2+100,y:560,background:e.rexUI.add.roundRectangle(0,0,0,0,10,14373254).setDepth(6),text:e.add.text(0,0,"Next",{color:"#fff"}).setDepth(6),space:{left:5,right:5,top:5,bottom:5}}).setOrigin(0).layout();return a.setInteractive().on("pointerdown",t),a},l=(e,t)=>{const a=e.rexUI.add.textBox({x:innerWidth/2-73,y:610,background:e.rexUI.add.roundRectangle(0,0,0,0,10,14373254).setDepth(6),text:e.add.text(0,0,"Confirm",{color:"#fff"}).setDepth(6),space:{left:40,right:40,top:10,bottom:10}}).setOrigin(0).layout();return a.setInteractive().on("pointerdown",t),a}}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.d29e3124cc49352d7db1.js.map